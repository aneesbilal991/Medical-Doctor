<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Diagnosis System - Dr. Wraith Developer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }

        .form-section, .info-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #e9ecef;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .symptom-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s;
        }

        .symptom-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .symptom-card.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }

        .result-section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            border-left: 5px solid #27ae60;
        }

        .loading {
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .feature-list {
            list-style: none;
        }

        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
        }

        .feature-list li:before {
            content: "‚úÖ";
            margin-right: 10px;
        }

        .doctor-info {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #f5c6cb;
        }

        .report-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border: 2px dashed #dee2e6;
        }

        .diagnosis-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .treatment-info {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }

        .precaution-info {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• Medical Diagnosis System</h1>
            <p>Complete AI-Powered Medical Diagnosis with Treatment & Precautions</p>
        </div>

        <div class="content">
            <div class="form-section">
                <h2>Patient Information</h2>
                <form id="diagnosisForm">
                    <div class="form-group">
                        <label for="patientName">Patient Name:</label>
                        <input type="text" id="patientName" required placeholder="Enter patient name">
                    </div>

                    <div class="form-group">
                        <label>Select Symptoms:</label>
                        <div class="symptoms-grid" id="symptomsGrid">
                            <!-- Symptoms will be loaded by JavaScript -->
                        </div>
                    </div>

                    <button type="button" id="diagnoseBtn" class="btn">Start Diagnosis</button>
                </form>

                <div class="result-section" id="resultSection">
                    <h3>Diagnosis Results</h3>
                    <div id="diagnosisResults"></div>
                    
                    <div class="report-section" id="reportSection" style="display: none;">
                        <h4>üìÑ Medical Report</h4>
                        <div id="reportContent"></div>
                        <button class="btn" onclick="downloadReport()" style="margin-top: 15px;">Download Report</button>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h2>About This System</h2>
                <p>Complete medical diagnosis system with 12 symptoms, treatment recommendations, and prevention guidelines.</p>
                
                <h3>üìã Available Symptoms:</h3>
                <ul class="feature-list">
                    <li>Fever (ÿ®ÿÆÿßÿ±) - 5 diseases</li>
                    <li>Cough (⁄©⁄æÿßŸÜÿ≥€å) - 5 diseases</li>
                    <li>Headache (ÿ≥ÿ± ÿØÿ±ÿØ) - 5 diseases</li>
                    <li>Stomach Pain (Ÿæ€åŸπ ÿØÿ±ÿØ) - 5 diseases</li>
                    <li>Chest Pain (ÿ≥€åŸÜ€í ŸÖ€å⁄∫ ÿØÿ±ÿØ) - 5 diseases</li>
                    <li>Cold (ŸÜÿ≤ŸÑ€Å) - 5 diseases</li>
                    <li>Weakness (⁄©ŸÖÿ≤Ÿàÿ±€å) - 5 diseases</li>
                    <li>Vomiting (ÿßŸÑŸπ€å) - 5 diseases</li>
                    <li>Diarrhea (ÿßÿ≥€ÅÿßŸÑ) - 5 diseases</li>
                    <li>Rash (ÿÆÿßÿ±ÿ¥) - 5 diseases</li>
                    <li>Body Pain (ÿ¨ÿ≥ŸÖ ŸÖ€å⁄∫ ÿØÿ±ÿØ) - 5 diseases</li>
                    <li>Sore Throat (⁄ØŸÑ€í ⁄©€å ÿÆÿ±ÿßÿ¥) - 5 diseases</li>
                </ul>

                <div class="doctor-info">
                    <h3>üë®‚Äç‚öïÔ∏è Doctor Information</h3>
                    <p><strong>Dr. Wraith Developer</strong></p>
                    <p>Medical AI Specialist</p>
                </div>

                <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px;">
                    <h4>‚ö†Ô∏è Important Disclaimer</h4>
                    <p>This is an automated system for educational purposes only. Always consult qualified healthcare professionals for medical advice.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Complete medical database with ALL 12 symptoms
        const symptomsDB = {
            'fever': {
                name: 'Fever',
                urdu: 'ÿ®ÿÆÿßÿ±',
                diseases: ['Viral Fever', 'Malaria', 'Typhoid', 'Dengue', 'COVID-19'],
                treatments: {
                    'Viral Fever': 'Paracetamol 500mg, Rest, Hydration',
                    'Malaria': 'Chloroquine, Antipyretics, Rest',
                    'Typhoid': 'Antibiotics (Ciprofloxacin), Rest, Soft diet',
                    'Dengue': 'Paracetamol, Platelet monitoring, Hydration',
                    'COVID-19': 'Isolation, Paracetamol, Medical consultation'
                },
                precautions: {
                    'Viral Fever': 'Avoid cold drinks, Take rest, Stay hydrated',
                    'Malaria': 'Use mosquito nets, Avoid stagnant water',
                    'Typhoid': 'Drink boiled water, Avoid street food',
                    'Dengue': 'Use mosquito repellent, Avoid water accumulation',
                    'COVID-19': 'Wear mask, Social distancing, Sanitize hands'
                }
            },
            'cough': {
                name: 'Cough',
                urdu: '⁄©⁄æÿßŸÜÿ≥€å',
                diseases: ['Common Cold', 'Bronchitis', 'Pneumonia', 'Asthma', 'Tuberculosis'],
                treatments: {
                    'Common Cold': 'Antihistamines, Cough Syrup, Steam inhalation',
                    'Bronchitis': 'Bronchodilators, Antibiotics, Expectorants',
                    'Pneumonia': 'Antibiotics, Oxygen therapy, Hospitalization',
                    'Asthma': 'Inhalers, Bronchodilators, Avoid allergens',
                    'Tuberculosis': 'Anti-TB drugs, Long-term treatment, Isolation'
                },
                precautions: {
                    'Common Cold': 'Avoid cold weather, Cover mouth, Warm liquids',
                    'Bronchitis': 'Avoid smoking, Wear mask in pollution',
                    'Pneumonia': 'Keep warm, Avoid crowds, Vaccination',
                    'Asthma': 'Avoid dust, Pollen, Pet dander',
                    'Tuberculosis': 'Isolation, Proper ventilation, Balanced diet'
                }
            },
            'headache': {
                name: 'Headache',
                urdu: 'ÿ≥ÿ± ÿØÿ±ÿØ',
                diseases: ['Migraine', 'Tension Headache', 'Sinusitis', 'Cluster Headache', 'Hypertension'],
                treatments: {
                    'Migraine': 'Ibuprofen, Rest in dark room, Avoid triggers',
                    'Tension Headache': 'Aspirin, Stress management, Massage',
                    'Sinusitis': 'Decongestants, Nasal spray, Antibiotics',
                    'Cluster Headache': 'Oxygen therapy, Triptans, Pain relievers',
                    'Hypertension': 'Blood pressure medication, Lifestyle changes'
                },
                precautions: {
                    'Migraine': 'Avoid bright lights, Loud noises, Chocolate',
                    'Tension Headache': 'Reduce stress, Proper posture, Regular sleep',
                    'Sinusitis': 'Avoid allergens, Use humidifier, Steam inhalation',
                    'Cluster Headache': 'Avoid alcohol, Smoking, High altitude',
                    'Hypertension': 'Reduce salt, Regular exercise, Weight management'
                }
            },
            'stomach pain': {
                name: 'Stomach Pain',
                urdu: 'Ÿæ€åŸπ ÿØÿ±ÿØ',
                diseases: ['Gastritis', 'Food Poisoning', 'Appendicitis', 'Ulcer', 'Irritable Bowel'],
                treatments: {
                    'Gastritis': 'Antacids, Avoid spicy food, Proton pump inhibitors',
                    'Food Poisoning': 'Hydration, Antibiotics if severe, Rest',
                    'Appendicitis': 'Emergency surgery required, Hospitalization',
                    'Ulcer': 'Antibiotics, Antacids, Avoid NSAIDs',
                    'Irritable Bowel': 'Diet modification, Stress management, Medication'
                },
                precautions: {
                    'Gastritis': 'Avoid spicy food, Alcohol, Smoking',
                    'Food Poisoning': 'Eat fresh food, Proper hygiene, Clean water',
                    'Appendicitis': 'Immediate hospital visit, No self-medication',
                    'Ulcer': 'Avoid painkillers, Spicy food, Stress',
                    'Irritable Bowel': 'High fiber diet, Regular meals, Stress control'
                }
            },
            'chest pain': {
                name: 'Chest Pain',
                urdu: 'ÿ≥€åŸÜ€í ŸÖ€å⁄∫ ÿØÿ±ÿØ',
                diseases: ['Angina', 'Acid Reflux', 'Anxiety', 'Heart Attack', 'Pulmonary Embolism'],
                treatments: {
                    'Angina': 'Nitroglycerin, Emergency care, Lifestyle changes',
                    'Acid Reflux': 'Antacids, Proton pump inhibitors, Diet changes',
                    'Anxiety': 'Relaxation techniques, Counseling, Medication',
                    'Heart Attack': 'EMERGENCY - Call ambulance, Aspirin, Hospital',
                    'Pulmonary Embolism': 'EMERGENCY - Hospitalization, Blood thinners'
                },
                precautions: {
                    'Angina': 'Avoid exertion, Stop smoking, Healthy diet',
                    'Acid Reflux': 'Avoid fatty foods, Eat small meals, No late meals',
                    'Anxiety': 'Meditation, Regular exercise, Avoid caffeine',
                    'Heart Attack': 'Immediate medical help, Chew aspirin, Rest',
                    'Pulmonary Embolism': 'Emergency care, Avoid long sitting, Movement'
                }
            },
            'cold': {
                name: 'Cold',
                urdu: 'ŸÜÿ≤ŸÑ€Å',
                diseases: ['Common Cold', 'Allergic Rhinitis', 'Sinus Infection', 'Flu', 'COVID-19'],
                treatments: {
                    'Common Cold': 'Decongestants, Vitamin C, Rest',
                    'Allergic Rhinitis': 'Antihistamines, Nasal spray, Avoid allergens',
                    'Sinus Infection': 'Antibiotics, Steam inhalation, Pain relievers',
                    'Flu': 'Antiviral drugs, Rest, Hydration',
                    'COVID-19': 'Isolation, Symptomatic treatment, Medical care'
                },
                precautions: {
                    'Common Cold': 'Wash hands, Avoid sick people, Stay warm',
                    'Allergic Rhinitis': 'Avoid pollen, Dust, Animal dander',
                    'Sinus Infection': 'Steam inhalation, Hydration, Rest',
                    'Flu': 'Vaccination, Avoid crowds, Good hygiene',
                    'COVID-19': 'Mask, Social distancing, Sanitization'
                }
            },
            'weakness': {
                name: 'Weakness',
                urdu: '⁄©ŸÖÿ≤Ÿàÿ±€å',
                diseases: ['Anemia', 'Fatigue Syndrome', 'Vitamin Deficiency', 'Diabetes', 'Thyroid Issues'],
                treatments: {
                    'Anemia': 'Iron supplements, Balanced diet, Vitamin B12',
                    'Fatigue Syndrome': 'Rest, Stress management, Gradual exercise',
                    'Vitamin Deficiency': 'Multivitamins, Proper nutrition, Sunlight',
                    'Diabetes': 'Blood sugar control, Medication, Diet management',
                    'Thyroid Issues': 'Thyroid medication, Regular monitoring'
                },
                precautions: {
                    'Anemia': 'Iron-rich diet, Vitamin C, Regular checkups',
                    'Fatigue Syndrome': 'Regular sleep, Balanced diet, Stress reduction',
                    'Vitamin Deficiency': 'Balanced diet, Sun exposure, Supplements',
                    'Diabetes': 'Regular monitoring, Diet control, Exercise',
                    'Thyroid Issues': 'Regular medication, Checkups, Balanced diet'
                }
            },
            'vomiting': {
                name: 'Vomiting',
                urdu: 'ÿßŸÑŸπ€å',
                diseases: ['Food Poisoning', 'Gastroenteritis', 'Migraine', 'Pregnancy', 'Motion Sickness'],
                treatments: {
                    'Food Poisoning': 'Hydration, Rest, Anti-emetics',
                    'Gastroenteritis': 'ORS, Rest, Bland diet',
                    'Migraine': 'Anti-emetics, Rest, Pain relief',
                    'Pregnancy': 'Small frequent meals, Ginger, Medical advice',
                    'Motion Sickness': 'Anti-emetics, Avoid reading in vehicle'
                },
                precautions: {
                    'Food Poisoning': 'Fresh food, Clean water, Hand hygiene',
                    'Gastroenteritis': 'ORS, Light diet, Rest',
                    'Migraine': 'Avoid triggers, Rest, Dark room',
                    'Pregnancy': 'Small meals, Avoid strong smells, Rest',
                    'Motion Sickness': 'Look at horizon, Fresh air, Light meals'
                }
            },
            'diarrhea': {
                name: 'Diarrhea',
                urdu: 'ÿßÿ≥€ÅÿßŸÑ',
                diseases: ['Gastroenteritis', 'Food Poisoning', 'Irritable Bowel', 'Infection', 'Lactose Intolerance'],
                treatments: {
                    'Gastroenteritis': 'ORS, Rest, Avoid dairy',
                    'Food Poisoning': 'Hydration, Antibiotics if bacterial',
                    'Irritable Bowel': 'Diet changes, Stress management',
                    'Infection': 'Antibiotics, Hydration, Medical care',
                    'Lactose Intolerance': 'Avoid dairy, Lactase enzymes'
                },
                precautions: {
                    'Gastroenteritis': 'ORS, Light diet, Hygiene',
                    'Food Poisoning': 'Clean food, Water, Utensils',
                    'Irritable Bowel': 'Identify triggers, Stress management',
                    'Infection': 'Medical care, Hydration, Rest',
                    'Lactose Intolerance': 'Dairy-free diet, Lactose-free products'
                }
            },
            'rash': {
                name: 'Rash',
                urdu: 'ÿÆÿßÿ±ÿ¥',
                diseases: ['Allergy', 'Eczema', 'Fungal Infection', 'Measles', 'Contact Dermatitis'],
                treatments: {
                    'Allergy': 'Antihistamines, Avoid allergens, Creams',
                    'Eczema': 'Moisturizers, Steroid creams, Avoid triggers',
                    'Fungal Infection': 'Antifungal creams, Oral medication',
                    'Measles': 'Symptomatic treatment, Rest, Isolation',
                    'Contact Dermatitis': 'Avoid irritants, Steroid creams'
                },
                precautions: {
                    'Allergy': 'Identify allergens, Avoid triggers, Clean environment',
                    'Eczema': 'Moisturize, Avoid harsh soaps, Cotton clothes',
                    'Fungal Infection': 'Keep dry, Clean clothes, Avoid sharing',
                    'Measles': 'Vaccination, Isolation, Rest',
                    'Contact Dermatitis': 'Avoid irritants, Protective gloves'
                }
            },
            'body pain': {
                name: 'Body Pain',
                urdu: 'ÿ¨ÿ≥ŸÖ ŸÖ€å⁄∫ ÿØÿ±ÿØ',
                diseases: ['Viral Infection', 'Arthritis', 'Fibromyalgia', 'Flu', 'Vitamin Deficiency'],
                treatments: {
                    'Viral Infection': 'Pain relievers, Rest, Hydration',
                    'Arthritis': 'Anti-inflammatory drugs, Physical therapy',
                    'Fibromyalgia': 'Pain management, Exercise, Stress reduction',
                    'Flu': 'Antiviral medication, Rest, Pain relievers',
                    'Vitamin Deficiency': 'Vitamin supplements, Balanced diet'
                },
                precautions: {
                    'Viral Infection': 'Rest, Hydration, Balanced diet',
                    'Arthritis': 'Regular exercise, Weight management, Joint care',
                    'Fibromyalgia': 'Stress management, Gentle exercise, Sleep',
                    'Flu': 'Rest, Hydration, Vaccination',
                    'Vitamin Deficiency': 'Balanced diet, Sun exposure, Supplements'
                }
            },
            'sore throat': {
                name: 'Sore Throat',
                urdu: '⁄ØŸÑ€í ⁄©€å ÿÆÿ±ÿßÿ¥',
                diseases: ['Strep Throat', 'Tonsillitis', 'Viral Pharyngitis', 'Allergy', 'Acid Reflux'],
                treatments: {
                    'Strep Throat': 'Antibiotics, Pain relievers, Warm salt water',
                    'Tonsillitis': 'Antibiotics, Pain medication, Rest',
                    'Viral Pharyngitis': 'Pain relievers, Warm liquids, Rest',
                    'Allergy': 'Antihistamines, Avoid allergens',
                    'Acid Reflux': 'Antacids, Diet modification, Elevate head'
                },
                precautions: {
                    'Strep Throat': 'Rest, Warm liquids, Avoid cold drinks',
                    'Tonsillitis': 'Soft diet, Rest, Hydration',
                    'Viral Pharyngitis': 'Warm liquids, Rest, Avoid smoking',
                    'Allergy': 'Avoid allergens, Clean environment',
                    'Acid Reflux': 'Small meals, Avoid spicy food, No late meals'
                }
            }
        };

        let selectedSymptoms = [];
        let diagnosisResults = [];

        // Initialize symptoms grid
        function initializeSymptoms() {
            const grid = document.getElementById('symptomsGrid');
            for (const [key, symptom] of Object.entries(symptomsDB)) {
                const card = document.createElement('div');
                card.className = 'symptom-card';
                card.innerHTML = `
                    <strong>${symptom.name}</strong>
                    <br>
                    <small>${symptom.urdu}</small>
                `;
                card.onclick = () => toggleSymptom(key, card);
                grid.appendChild(card);
            }
        }

        function toggleSymptom(symptom, element) {
            const index = selectedSymptoms.indexOf(symptom);
            if (index === -1) {
                selectedSymptoms.push(symptom);
                element.classList.add('selected');
            } else {
                selectedSymptoms.splice(index, 1);
                element.classList.remove('selected');
            }
        }

        // Diagnosis process
        document.getElementById('diagnoseBtn').onclick = function() {
            const patientName = document.getElementById('patientName').value;
            
            if (!patientName) {
                showError('Please enter patient name');
                return;
            }

            if (selectedSymptoms.length === 0) {
                showError('Please select at least one symptom');
                return;
            }

            startDiagnosis(patientName, selectedSymptoms);
        };

        function startDiagnosis(patientName, symptoms) {
            const resultSection = document.getElementById('resultSection');
            const resultsDiv = document.getElementById('diagnosisResults');
            
            resultSection.style.display = 'block';
            resultsDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Analyzing symptoms and generating diagnosis...</p>
                </div>
            `;

            // Simulate diagnosis process
            setTimeout(() => {
                generateDiagnosis(patientName, symptoms);
            }, 2000);
        }

        function generateDiagnosis(patientName, symptoms) {
            let resultsHTML = `
                <div class="success-message">
                    <h4>‚úÖ Diagnosis Complete!</h4>
                    <p>Found ${symptoms.length} symptoms with complete treatment plan</p>
                </div>
                
                <div style="margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 8px;">
                    <strong>Patient:</strong> ${patientName}<br>
                    <strong>Doctor:</strong> Dr. Wraith Developer<br>
                    <strong>Date:</strong> ${new Date().toLocaleDateString()}
                </div>

                <h4>üìã Reported Symptoms:</h4>
                <ul style="margin: 10px 0 20px 20px;">
            `;

            diagnosisResults = [];

            // Generate diagnosis for each symptom
            symptoms.forEach(symptom => {
                if (symptomsDB[symptom]) {
                    const symptomInfo = symptomsDB[symptom];
                    const randomDisease = symptomInfo.diseases[Math.floor(Math.random() * symptomInfo.diseases.length)];
                    
                    resultsHTML += `<li><strong>${symptomInfo.name}</strong> (${symptomInfo.urdu})</li>`;
                    
                    diagnosisResults.push({
                        symptom: symptomInfo.name,
                        urdu: symptomInfo.urdu,
                        disease: randomDisease,
                        treatment: symptomInfo.treatments[randomDisease],
                        precaution: symptomInfo.precautions[randomDisease]
                    });
                }
            });

            resultsHTML += `</ul><h4>ü©∫ Diagnosis & Treatment Plan:</h4>`;

            diagnosisResults.forEach(result => {
                resultsHTML += `
                    <div class="diagnosis-item">
                        <strong>${result.symptom} (${result.urdu})</strong><br>
                        <strong>Diagnosed Disease:</strong> ${result.disease}
                        
                        <div class="treatment-info">
                            <strong>üíä Treatment:</strong><br>
                            ${result.treatment}
                        </div>
                        
                        <div class="precaution-info">
                            <strong>üõ°Ô∏è Precautions:</strong><br>
                            ${result.precaution}
                        </div>
                    </div>
                `;
            });

            resultsHTML += `
                <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 5px;">
                    <strong>‚ö†Ô∏è Important Medical Disclaimer:</strong><br>
                    This is an automated diagnosis system for educational purposes only. 
                    Always consult with qualified healthcare professionals for proper medical advice, 
                    diagnosis, and treatment. Do not use this information for emergency medical situations.
                </div>
            `;

            document.getElementById('diagnosisResults').innerHTML = resultsHTML;
            generateReport(patientName);
        }

        function generateReport(patientName) {
            const reportSection = document.getElementById('reportSection');
            const reportContent = document.getElementById('reportContent');
            
            let reportHTML = `
                <div style="border-bottom: 2px solid #3498db; padding-bottom: 10px; margin-bottom: 15px;">
                    <h3 style="color: #2c3e50; text-align: center;">MEDICAL DIAGNOSIS REPORT</h3>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong>Date:</strong> ${new Date().toLocaleDateString()}<br>
                    <strong>Patient Name:</strong> ${patientName}<br>
                    <strong>Doctor:</strong> Dr. Wraith Developer<br>
                    <strong>System:</strong> AI-Powered Medical Diagnosis System
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong>SYMPTOMS REPORTED:</strong><br>
                    ${diagnosisResults.map(result => `${result.symptom} (${result.urdu})`).join(', ')}
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong>DETAILED DIAGNOSIS:</strong>
            `;

            diagnosisResults.forEach(result => {
                reportHTML += `
                    <div style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <strong>${result.symptom}:</strong> ${result.disease}<br>
                        <strong>Treatment:</strong> ${result.treatment}<br>
                        <strong>Precautions:</strong> ${result.precaution}
                    </div>
                `;
            });

            reportHTML += `
                </div>
                
                <div style="padding: 10px; background: #fff3cd; border-radius: 5px; font-size: 0.9em;">
                    <strong>DISCLAIMER:</strong><br>
                    This report is generated by an automated system for educational and preliminary purposes only. 
                    It is not a substitute for professional medical advice, diagnosis, or treatment. 
                    Always seek the advice of qualified healthcare providers with any questions you may have regarding medical conditions.
                    In case of emergency, contact your local hospital immediately.
                </div>
            `;

            reportContent.innerHTML = reportHTML;
            reportSection.style.display = 'block';
        }

        function downloadReport() {
            let reportText = `MEDICAL DIAGNOSIS REPORT\n`;
            reportText += `Date: ${new Date().toLocaleDateString()}\n`;
            reportText += `Patient: ${document.getElementById('patientName').value}\n`;
            reportText += `Doctor: Dr. Wraith Developer\n`;
            reportText += `System: AI-Powered Medical Diagnosis System\n\n`;
            
            reportText += `SYMPTOMS REPORTED:\n`;
            diagnosisResults.forEach(result => {
                reportText += `‚Ä¢ ${result.symptom} (${result.urdu})\n`;
            });
            
            reportText += `\nDETAILED DIAGNOSIS:\n`;
            diagnosisResults.forEach(result => {
                reportText += `\n${result.symptom}:\n`;
                reportText += `  Disease: ${result.disease}\n`;
                reportText += `  Treatment: ${result.treatment}\n`;
                reportText += `  Precautions: ${result.precaution}\n`;
            });
            
            reportText += `\nDISCLAIMER:\n`;
            reportText += `This is an automated diagnosis for educational purposes only. Consult qualified doctors for medical advice.\n`;

            const blob = new Blob([reportText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `medical_report_${document.getElementById('patientName').value}_${new Date().getTime()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function showError(message) {
            const resultSection = document.getElementById('resultSection');
            resultSection.style.display = 'block';
            document.getElementById('diagnosisResults').innerHTML = `
                <div class="error-message">
                    ${message}
                </div>
            `;
        }

        // Initialize the application
        window.onload = initializeSymptoms;
    </script>
</body>
</html>
