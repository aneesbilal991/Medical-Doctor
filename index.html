import datetime
import os
import time
import sys

class MedicalDiagnosisSystem:
    def __init__(self):
        # Fixed doctor name
        self.doctor_name = "Dr. Wraith Developer"
        
        # Color codes
        self.colors = {
            'RED': '\033[91m',
            'GREEN': '\033[92m',
            'YELLOW': '\033[93m',
            'BLUE': '\033[94m',
            'PURPLE': '\033[95m',
            'CYAN': '\033[96m',
            'WHITE': '\033[97m',
            'BOLD': '\033[1m',
            'UNDERLINE': '\033[4m',
            'END': '\033[0m'
        }
        
        # Complete symptoms database with diagnosis, medicines and precautions
        self.symptoms_db = {
            'fever': {
                'urdu_name': 'ÿ®ÿÆÿßÿ±',
                'diseases': ['Viral Fever', 'Malaria', 'Typhoid', 'Dengue', 'COVID-19'],
                'medicines': {
                    'Viral Fever': 'Paracetamol 500mg, Rest, Hydration',
                    'Malaria': 'Chloroquine, Antipyretics, Rest',
                    'Typhoid': 'Antibiotics (Ciprofloxacin), Rest, Soft diet',
                    'Dengue': 'Paracetamol, Platelet monitoring, Hydration',
                    'COVID-19': 'Isolation, Paracetamol, Medical consultation'
                },
                'precautions': {
                    'Viral Fever': 'Avoid cold drinks, Take rest, Stay hydrated',
                    'Malaria': 'Use mosquito nets, Avoid stagnant water',
                    'Typhoid': 'Drink boiled water, Avoid street food',
                    'Dengue': 'Use mosquito repellent, Avoid water accumulation',
                    'COVID-19': 'Wear mask, Social distancing, Sanitize hands'
                }
            },
            'cough': {
                'urdu_name': '⁄©⁄æÿßŸÜÿ≥€å',
                'diseases': ['Common Cold', 'Bronchitis', 'Pneumonia', 'Asthma', 'Tuberculosis'],
                'medicines': {
                    'Common Cold': 'Antihistamines, Cough Syrup, Steam inhalation',
                    'Bronchitis': 'Bronchodilators, Antibiotics, Expectorants',
                    'Pneumonia': 'Antibiotics, Oxygen therapy, Hospitalization',
                    'Asthma': 'Inhalers, Bronchodilators, Avoid allergens',
                    'Tuberculosis': 'Anti-TB drugs, Long-term treatment, Isolation'
                },
                'precautions': {
                    'Common Cold': 'Avoid cold weather, Cover mouth, Warm liquids',
                    'Bronchitis': 'Avoid smoking, Wear mask in pollution',
                    'Pneumonia': 'Keep warm, Avoid crowds, Vaccination',
                    'Asthma': 'Avoid dust, Pollen, Pet dander',
                    'Tuberculosis': 'Isolation, Proper ventilation, Balanced diet'
                }
            },
            'headache': {
                'urdu_name': 'ÿ≥ÿ± ÿØÿ±ÿØ',
                'diseases': ['Migraine', 'Tension Headache', 'Sinusitis', 'Cluster Headache', 'Hypertension'],
                'medicines': {
                    'Migraine': 'Ibuprofen, Rest in dark room, Avoid triggers',
                    'Tension Headache': 'Aspirin, Stress management, Massage',
                    'Sinusitis': 'Decongestants, Nasal spray, Antibiotics',
                    'Cluster Headache': 'Oxygen therapy, Triptans, Pain relievers',
                    'Hypertension': 'Blood pressure medication, Lifestyle changes'
                },
                'precautions': {
                    'Migraine': 'Avoid bright lights, Loud noises, Chocolate',
                    'Tension Headache': 'Reduce stress, Proper posture, Regular sleep',
                    'Sinusitis': 'Avoid allergens, Use humidifier, Steam inhalation',
                    'Cluster Headache': 'Avoid alcohol, Smoking, High altitude',
                    'Hypertension': 'Reduce salt, Regular exercise, Weight management'
                }
            },
            'stomach pain': {
                'urdu_name': 'Ÿæ€åŸπ ÿØÿ±ÿØ',
                'diseases': ['Gastritis', 'Food Poisoning', 'Appendicitis', 'Ulcer', 'Irritable Bowel'],
                'medicines': {
                    'Gastritis': 'Antacids, Avoid spicy food, Proton pump inhibitors',
                    'Food Poisoning': 'Hydration, Antibiotics if severe, Rest',
                    'Appendicitis': 'Emergency surgery required, Hospitalization',
                    'Ulcer': 'Antibiotics, Antacids, Avoid NSAIDs',
                    'Irritable Bowel': 'Diet modification, Stress management, Medication'
                },
                'precautions': {
                    'Gastritis': 'Avoid spicy food, Alcohol, Smoking',
                    'Food Poisoning': 'Eat fresh food, Proper hygiene, Clean water',
                    'Appendicitis': 'Immediate hospital visit, No self-medication',
                    'Ulcer': 'Avoid painkillers, Spicy food, Stress',
                    'Irritable Bowel': 'High fiber diet, Regular meals, Stress control'
                }
            },
            'chest pain': {
                'urdu_name': 'ÿ≥€åŸÜ€í ŸÖ€å⁄∫ ÿØÿ±ÿØ',
                'diseases': ['Angina', 'Acid Reflux', 'Anxiety', 'Heart Attack', 'Pulmonary Embolism'],
                'medicines': {
                    'Angina': 'Nitroglycerin, Emergency care, Lifestyle changes',
                    'Acid Reflux': 'Antacids, Proton pump inhibitors, Diet changes',
                    'Anxiety': 'Relaxation techniques, Counseling, Medication',
                    'Heart Attack': 'EMERGENCY - Call ambulance, Aspirin, Hospital',
                    'Pulmonary Embolism': 'EMERGENCY - Hospitalization, Blood thinners'
                },
                'precautions': {
                    'Angina': 'Avoid exertion, Stop smoking, Healthy diet',
                    'Acid Reflux': 'Avoid fatty foods, Eat small meals, No late meals',
                    'Anxiety': 'Meditation, Regular exercise, Avoid caffeine',
                    'Heart Attack': 'Immediate medical help, Chew aspirin, Rest',
                    'Pulmonary Embolism': 'Emergency care, Avoid long sitting, Movement'
                }
            },
            'cold': {
                'urdu_name': 'ŸÜÿ≤ŸÑ€Å',
                'diseases': ['Common Cold', 'Allergic Rhinitis', 'Sinus Infection', 'Flu', 'COVID-19'],
                'medicines': {
                    'Common Cold': 'Decongestants, Vitamin C, Rest',
                    'Allergic Rhinitis': 'Antihistamines, Nasal spray, Avoid allergens',
                    'Sinus Infection': 'Antibiotics, Steam inhalation, Pain relievers',
                    'Flu': 'Antiviral drugs, Rest, Hydration',
                    'COVID-19': 'Isolation, Symptomatic treatment, Medical care'
                },
                'precautions': {
                    'Common Cold': 'Wash hands, Avoid sick people, Stay warm',
                    'Allergic Rhinitis': 'Avoid pollen, Dust, Animal dander',
                    'Sinus Infection': 'Steam inhalation, Hydration, Rest',
                    'Flu': 'Vaccination, Avoid crowds, Good hygiene',
                    'COVID-19': 'Mask, Social distancing, Sanitization'
                }
            },
            'weakness': {
                'urdu_name': '⁄©ŸÖÿ≤Ÿàÿ±€å',
                'diseases': ['Anemia', 'Fatigue Syndrome', 'Vitamin Deficiency', 'Diabetes', 'Thyroid Issues'],
                'medicines': {
                    'Anemia': 'Iron supplements, Balanced diet, Vitamin B12',
                    'Fatigue Syndrome': 'Rest, Stress management, Gradual exercise',
                    'Vitamin Deficiency': 'Multivitamins, Proper nutrition, Sunlight',
                    'Diabetes': 'Blood sugar control, Medication, Diet management',
                    'Thyroid Issues': 'Thyroid medication, Regular monitoring'
                },
                'precautions': {
                    'Anemia': 'Iron-rich diet, Vitamin C, Regular checkups',
                    'Fatigue Syndrome': 'Regular sleep, Balanced diet, Stress reduction',
                    'Vitamin Deficiency': 'Balanced diet, Sun exposure, Supplements',
                    'Diabetes': 'Regular monitoring, Diet control, Exercise',
                    'Thyroid Issues': 'Regular medication, Checkups, Balanced diet'
                }
            },
            'vomiting': {
                'urdu_name': 'ÿßŸÑŸπ€å',
                'diseases': ['Food Poisoning', 'Gastroenteritis', 'Migraine', 'Pregnancy', 'Motion Sickness'],
                'medicines': {
                    'Food Poisoning': 'Hydration, Rest, Anti-emetics',
                    'Gastroenteritis': 'ORS, Rest, Bland diet',
                    'Migraine': 'Anti-emetics, Rest, Pain relief',
                    'Pregnancy': 'Small frequent meals, Ginger, Medical advice',
                    'Motion Sickness': 'Anti-emetics, Avoid reading in vehicle'
                },
                'precautions': {
                    'Food Poisoning': 'Fresh food, Clean water, Hand hygiene',
                    'Gastroenteritis': 'ORS, Light diet, Rest',
                    'Migraine': 'Avoid triggers, Rest, Dark room',
                    'Pregnancy': 'Small meals, Avoid strong smells, Rest',
                    'Motion Sickness': 'Look at horizon, Fresh air, Light meals'
                }
            },
            'diarrhea': {
                'urdu_name': 'ÿßÿ≥€ÅÿßŸÑ',
                'diseases': ['Gastroenteritis', 'Food Poisoning', 'Irritable Bowel', 'Infection', 'Lactose Intolerance'],
                'medicines': {
                    'Gastroenteritis': 'ORS, Rest, Avoid dairy',
                    'Food Poisoning': 'Hydration, Antibiotics if bacterial',
                    'Irritable Bowel': 'Diet changes, Stress management',
                    'Infection': 'Antibiotics, Hydration, Medical care',
                    'Lactose Intolerance': 'Avoid dairy, Lactase enzymes'
                },
                'precautions': {
                    'Gastroenteritis': 'ORS, Light diet, Hygiene',
                    'Food Poisoning': 'Clean food, Water, Utensils',
                    'Irritable Bowel': 'Identify triggers, Stress management',
                    'Infection': 'Medical care, Hydration, Rest',
                    'Lactose Intolerance': 'Dairy-free diet, Lactose-free products'
                }
            },
            'rash': {
                'urdu_name': 'ÿÆÿßÿ±ÿ¥',
                'diseases': ['Allergy', 'Eczema', 'Fungal Infection', 'Measles', 'Contact Dermatitis'],
                'medicines': {
                    'Allergy': 'Antihistamines, Avoid allergens, Creams',
                    'Eczema': 'Moisturizers, Steroid creams, Avoid triggers',
                    'Fungal Infection': 'Antifungal creams, Oral medication',
                    'Measles': 'Symptomatic treatment, Rest, Isolation',
                    'Contact Dermatitis': 'Avoid irritants, Steroid creams'
                },
                'precautions': {
                    'Allergy': 'Identify allergens, Avoid triggers, Clean environment',
                    'Eczema': 'Moisturize, Avoid harsh soaps, Cotton clothes',
                    'Fungal Infection': 'Keep dry, Clean clothes, Avoid sharing',
                    'Measles': 'Vaccination, Isolation, Rest',
                    'Contact Dermatitis': 'Avoid irritants, Protective gloves'
                }
            },
            'body pain': {
                'urdu_name': 'ÿ¨ÿ≥ŸÖ ŸÖ€å⁄∫ ÿØÿ±ÿØ',
                'diseases': ['Viral Infection', 'Arthritis', 'Fibromyalgia', 'Flu', 'Vitamin Deficiency'],
                'medicines': {
                    'Viral Infection': 'Pain relievers, Rest, Hydration',
                    'Arthritis': 'Anti-inflammatory drugs, Physical therapy',
                    'Fibromyalgia': 'Pain management, Exercise, Stress reduction',
                    'Flu': 'Antiviral medication, Rest, Pain relievers',
                    'Vitamin Deficiency': 'Vitamin supplements, Balanced diet'
                },
                'precautions': {
                    'Viral Infection': 'Rest, Hydration, Balanced diet',
                    'Arthritis': 'Regular exercise, Weight management, Joint care',
                    'Fibromyalgia': 'Stress management, Gentle exercise, Sleep',
                    'Flu': 'Rest, Hydration, Vaccination',
                    'Vitamin Deficiency': 'Balanced diet, Sun exposure, Supplements'
                }
            },
            'sore throat': {
                'urdu_name': '⁄ØŸÑ€í ⁄©€å ÿÆÿ±ÿßÿ¥',
                'diseases': ['Strep Throat', 'Tonsillitis', 'Viral Pharyngitis', 'Allergy', 'Acid Reflux'],
                'medicines': {
                    'Strep Throat': 'Antibiotics, Pain relievers, Warm salt water',
                    'Tonsillitis': 'Antibiotics, Pain medication, Rest',
                    'Viral Pharyngitis': 'Pain relievers, Warm liquids, Rest',
                    'Allergy': 'Antihistamines, Avoid allergens',
                    'Acid Reflux': 'Antacids, Diet modification, Elevate head'
                },
                'precautions': {
                    'Strep Throat': 'Rest, Warm liquids, Avoid cold drinks',
                    'Tonsillitis': 'Soft diet, Rest, Hydration',
                    'Viral Pharyngitis': 'Warm liquids, Rest, Avoid smoking',
                    'Allergy': 'Avoid allergens, Clean environment',
                    'Acid Reflux': 'Small meals, Avoid spicy food, No late meals'
                }
            }
        }
    
    def color_text(self, text, color):
        """Add color to text"""
        return f"{self.colors.get(color, '')}{text}{self.colors['END']}"
    
    def clear_screen(self):
        """Clear terminal screen"""
        os.system('clear' if os.name == 'posix' else 'cls')
    
    def animate_text(self, text, delay=0.03, color='WHITE'):
        """Animate text printing with color"""
        colored_text = self.color_text(text, color)
        for char in colored_text:
            print(char, end='', flush=True)
            time.sleep(delay)
        print()
    
    def loading_animation(self, duration=2, message="Processing"):
        """Show loading animation with color"""
        animation_chars = ["üïê", "üïë", "üïí", "üïì", "üïî", "üïï", "üïñ", "üïó", "üïò", "üïô", "üïö", "üïõ"]
        start_time = time.time()
        i = 0
        
        while time.time() - start_time < duration:
            color = ['RED', 'GREEN', 'YELLOW', 'BLUE', 'PURPLE', 'CYAN'][i % 6]
            animated_char = self.color_text(animation_chars[i % len(animation_chars)], color)
            print(f"\r{message} {animated_char}", end='', flush=True)
            time.sleep(0.2)
            i += 1
        print("\r" + " " * 50 + "\r", end='', flush=True)
    
    def show_welcome(self):
        """Show animated welcome message in full screen"""
        self.clear_screen()
        
        welcome_text = """
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                   üè• MEDICAL DIAGNOSIS SYSTEM üè•             ‚ïë
‚ïë                  Complete Health Analysis                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        """
        self.animate_text(welcome_text, 0.01, 'CYAN')
        time.sleep(1)
    
    def get_patient_info(self):
        """Get patient information with animation"""
        print("\n")
        self.animate_text("üìù Patient Information Form:", 0.02, 'CYAN')
        print("=" * 40)
        
        patient_name = input("\nüë§ Enter Patient Name: ")
        
        # Show fixed doctor name
        self.animate_text(f"üë®‚Äç‚öïÔ∏è Doctor: {self.doctor_name}", 0.02, 'BLUE')
        
        return patient_name
    
    def show_symptoms_menu(self):
        """Display animated symptoms menu with colors"""
        print("\n")
        self.animate_text("üìã Available Symptoms:", 0.02, 'PURPLE')
        print("=" * 50)
        
        symptoms_list = list(self.symptoms_db.keys())
        colors = ['GREEN', 'YELLOW', 'BLUE', 'CYAN', 'PURPLE']
        
        for i, symptom in enumerate(symptoms_list, 1):
            color = colors[i % len(colors)]
            urdu_name = self.symptoms_db[symptom]['urdu_name']
            symptom_text = f"{i:2d}. {symptom:15} ({urdu_name})"
            self.animate_text(symptom_text, 0.01, color)
    
    def get_custom_symptoms(self):
        """Get custom symptoms from patient"""
        print("\n")
        self.animate_text("ü§í What symptoms are you experiencing?", 0.02, 'RED')
        self.animate_text("ÿ¢Ÿæ ⁄©Ÿà ⁄©ŸàŸÜ ÿ≥€å ÿπŸÑÿßŸÖÿßÿ™ €Å€å⁄∫ÿü", 0.02, 'YELLOW')
        
        # Show available symptoms
        self.show_symptoms_menu()
        
        print("\n")
        self.animate_text("üí° Tip: You can type in English or Urdu", 0.02, 'GREEN')
        self.animate_text("üí° ÿ™ÿ¨Ÿà€åÿ≤: ÿ¢Ÿæ ÿßŸÜ⁄Øÿ±€åÿ≤€å €åÿß ÿßÿ±ÿØŸà ŸÖ€å⁄∫ ŸÑ⁄©⁄æ ÿ≥⁄©ÿ™€í €Å€å⁄∫", 0.02, 'GREEN')
        self.animate_text("üí° EXAMPLE: fever, cough, headache OR ÿ®ÿÆÿßÿ±, ⁄©⁄æÿßŸÜÿ≥€å", 0.02, 'YELLOW')
        
        symptom_input = input(self.color_text("\nüéØ Enter your symptoms (comma separated): ", 'BOLD'))
        
        return symptom_input
    
    def translate_symptom(self, user_input):
        """Translate Urdu symptom to English"""
        user_input_lower = user_input.strip().lower()
        
        # Urdu to English mapping
        urdu_mapping = {
            'ÿ®ÿÆÿßÿ±': 'fever',
            '⁄©⁄æÿßŸÜÿ≥€å': 'cough',
            'ÿ≥ÿ± ÿØÿ±ÿØ': 'headache', 
            'Ÿæ€åŸπ ÿØÿ±ÿØ': 'stomach pain',
            'ÿ≥€åŸÜ€í ŸÖ€å⁄∫ ÿØÿ±ÿØ': 'chest pain',
            'ŸÜÿ≤ŸÑ€Å': 'cold',
            '⁄©ŸÖÿ≤Ÿàÿ±€å': 'weakness',
            'ÿßŸÑŸπ€å': 'vomiting',
            'ÿßÿ≥€ÅÿßŸÑ': 'diarrhea',
            'ÿÆÿßÿ±ÿ¥': 'rash',
            'ÿ¨ÿ≥ŸÖ ŸÖ€å⁄∫ ÿØÿ±ÿØ': 'body pain',
            '⁄ØŸÑ€í ⁄©€å ÿÆÿ±ÿßÿ¥': 'sore throat'
        }
        
        # Check if input is already in English
        if user_input_lower in self.symptoms_db:
            return user_input_lower
        
        # Check Urdu to English mapping
        for urdu_symptom, english_symptom in urdu_mapping.items():
            if urdu_symptom in user_input:
                return english_symptom
        
        # Check for similar English names
        for english_symptom in self.symptoms_db.keys():
            if english_symptom in user_input_lower:
                return english_symptom
        
        return None
    
    def diagnose_symptoms(self, symptoms_list):
        """Diagnose multiple symptoms with colorful interface"""
        all_diseases = []
        all_medicines = []
        all_precautions = []
        
        for symptom in symptoms_list:
            translated_symptom = self.translate_symptom(symptom)
            if translated_symptom and translated_symptom in self.symptoms_db:
                symptom_info = self.symptoms_db[translated_symptom]
                
                self.animate_text(f"\nüîç Analyzing: {symptom} ({symptom_info['urdu_name']})", 0.02, 'CYAN')
                self.loading_animation(2, "Diagnosing")
                
                # Show disease options
                self.animate_text(f"üìä Possible diseases for {symptom}:", 0.02, 'PURPLE')
                for i, disease in enumerate(symptom_info['diseases'], 1):
                    color = ['GREEN', 'YELLOW', 'BLUE', 'CYAN', 'PURPLE'][i % 5]
                    self.animate_text(f"   {i}. {disease}", 0.01, color)
                
                try:
                    choice = int(input(self.color_text(f"\nüéØ Select disease (1-{len(symptom_info['diseases'])}): ", 'BOLD')))
                    if 1 <= choice <= len(symptom_info['diseases']):
                        selected_disease = symptom_info['diseases'][choice-1]
                        medicine = symptom_info['medicines'][selected_disease]
                        precaution = symptom_info['precautions'][selected_disease]
                        
                        all_diseases.append(f"{selected_disease} (from {symptom})")
                        all_medicines.append(f"For {symptom}: {medicine}")
                        all_precautions.append(f"Precautions: {precaution}")
                        
                        self.animate_text(f"‚úÖ Selected: {selected_disease}", 0.02, 'GREEN')
                    else:
                        self.animate_text("‚ùå Invalid choice!", 0.02, 'RED')
                except ValueError:
                    self.animate_text("‚ùå Please enter a valid number!", 0.02, 'RED')
            else:
                self.animate_text(f"‚ùå Unknown symptom: {symptom}", 0.02, 'RED')
        
        return all_diseases, all_medicines, all_precautions
    
    def create_text_report(self, patient_name, symptoms, diseases, medicines, precautions):
        """Create a detailed colorful text report"""
        current_time = datetime.datetime.now()
        
        report_content = f"""
{self.color_text('‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó', 'CYAN')}
{self.color_text('‚ïë                    MEDICAL DIAGNOSIS REPORT                 ‚ïë', 'BOLD')}
{self.color_text('‚ïë                  Developed by Wraith Developer              ‚ïë', 'YELLOW')}
{self.color_text('‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù', 'CYAN')}

{self.color_text('üìÖ', 'BLUE')} {self.color_text('Date & Time:', 'BOLD')} {current_time.strftime("%Y-%m-%d %H:%M:%S")}

{self.color_text('üë§ PATIENT INFORMATION:', 'CYAN')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'CYAN')}
   {self.color_text('Patient Name:', 'BOLD')} {patient_name}
   {self.color_text('Doctor Name:', 'BOLD')} {self.doctor_name}

{self.color_text('ü§í SYMPTOMS REPORTED:', 'RED')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'RED')}
"""
        for symptom in symptoms:
            report_content += f"   ‚Ä¢ {symptom}\n"
        
        report_content += f"""
{self.color_text('ü©∫ DIAGNOSIS RESULTS:', 'PURPLE')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'PURPLE')}
"""
        
        for disease in diseases:
            report_content += f"   ‚Ä¢ {disease}\n"
        
        report_content += f"""
{self.color_text('üíä RECOMMENDED TREATMENT:', 'GREEN')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'GREEN')}
"""
        
        for medicine in medicines:
            report_content += f"   ‚Ä¢ {medicine}\n"
        
        report_content += f"""
{self.color_text('üõ°Ô∏è  PRECAUTIONS & PREVENTIONS:', 'YELLOW')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'YELLOW')}
"""
        
        for precaution in precautions:
            report_content += f"   ‚Ä¢ {precaution}\n"
        
        report_content += f"""
{self.color_text('‚ö†Ô∏è  IMPORTANT NOTES:', 'RED')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'RED')}
   ‚Ä¢ This is an automated diagnosis system
   ‚Ä¢ Please consult with a qualified healthcare professional
   ‚Ä¢ For emergencies, contact your local hospital immediately
   ‚Ä¢ Follow dosage instructions carefully
   ‚Ä¢ Complete the full course of medication

{self.color_text('üìù URDU TRANSLATION:', 'BLUE')}
{self.color_text('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', 'BLUE')}
   €å€Å ÿß€å⁄© ÿÆŸàÿØ⁄©ÿßÿ± ÿ™ÿ¥ÿÆ€åÿµ ŸÜÿ∏ÿßŸÖ €Å€í
   ÿ®ÿ±ÿß€Å ⁄©ÿ±ŸÖ ŸÖŸÜÿßÿ≥ÿ® ÿ∑ÿ®€å ŸÖÿ¥Ÿàÿ±€í ⁄©€í ŸÑ€å€í ⁄©ÿ≥€å ŸÖÿ≥ÿ™ŸÜÿØ ⁄àÿß⁄©Ÿπÿ± ÿ≥€í ÿ±ÿ¨Ÿàÿπ ⁄©ÿ±€å⁄∫
   ÿß€åŸÖÿ±ÿ¨ŸÜÿ≥€å ⁄©€å ÿµŸàÿ±ÿ™ ŸÖ€å⁄∫ ŸÅŸàÿ±€å ÿ∑Ÿàÿ± Ÿæÿ± €Åÿ≥Ÿæÿ™ÿßŸÑ ÿ≥€í ÿ±ÿßÿ®ÿ∑€Å ⁄©ÿ±€å⁄∫
   ÿØŸàÿßÿ¶€åŸà⁄∫ ⁄©€å ÿÆŸàÿ±ÿß⁄© ÿßÿ≠ÿ™€åÿßÿ∑ ÿ≥€í ÿßÿ≥ÿ™ÿπŸÖÿßŸÑ ⁄©ÿ±€å⁄∫
   ÿØŸàÿß ⁄©ÿß ŸÖ⁄©ŸÖŸÑ ⁄©Ÿàÿ±ÿ≥ ÿ∂ÿ±Ÿàÿ± ŸæŸàÿ±ÿß ⁄©ÿ±€å⁄∫

{self.color_text('üî¨', 'CYAN')} {self.color_text('System Developed by: Wraith Developer', 'BOLD')}
"""
        
        # Save text file
        filename = f"medical_report_{patient_name.replace(' ', '_')}_{current_time.strftime('%Y%m%d_%H%M%S')}.txt"
        
        with open(filename, 'w', encoding='utf-8') as file:
            file.write(report_content)
        
        return filename
    
    def run(self):
        """Main program loop"""
        self.show_welcome()
        
        while True:
            try:
                # Get patient information
                patient_name = self.get_patient_info()
                
                if not patient_name:
                    self.animate_text("‚ùå Patient name is required!", 0.02, 'RED')
                    continue
                
                # Get symptoms
                symptoms_input = self.get_custom_symptoms()
                
                if not symptoms_input:
                    self.animate_text("‚ùå Please enter at least one symptom!", 0.02, 'RED')
                    continue
                
                # Process symptoms
                symptoms_list = [s.strip() for s in symptoms_input.split(',')]
                symptoms_list = [s for s in symptoms_list if s]  # Remove empty strings
                
                self.animate_text(f"\n‚úÖ Symptoms recorded: {', '.join(symptoms_list)}", 0.02, 'GREEN')
                
                # Diagnose
                self.animate_text("\nü©∫ Starting diagnosis process...", 0.02, 'CYAN')
                self.loading_animation(3, "Analyzing symptoms")
                
                diseases, medicines, precautions = self.diagnose_symptoms(symptoms_list)
                
                if not diseases:
                    self.animate_text("‚ùå No valid diagnosis could be made!", 0.02, 'RED')
                    continue
                
                # Show results
                print("\n")
                self.animate_text("‚ïê" * 60, 0.01, 'GREEN')
                self.animate_text("üéâ DIAGNOSIS COMPLETE! üéâ", 0.03, 'BOLD')
                self.animate_text("‚ïê" * 60, 0.01, 'GREEN')
                
                print(f"\n{self.color_text('üë§', 'CYAN')} {self.color_text('Patient:', 'BOLD')} {patient_name}")
                print(f"{self.color_text('üë®‚Äç‚öïÔ∏è', 'BLUE')} {self.color_text('Doctor:', 'BOLD')} {self.doctor_name}")
                print(f"{self.color_text('ü§í', 'RED')} {self.color_text('Symptoms:', 'BOLD')} {', '.join(symptoms_list)}")
                
                print(f"\n{self.color_text('ü©∫ Diagnosed Diseases:', 'PURPLE')}")
                for disease in diseases:
                    print(f"   {self.color_text('‚úÖ', 'GREEN')} {disease}")
                
                print(f"\n{self.color_text('üíä Recommended Treatment:', 'GREEN')}")
                for medicine in medicines:
                    print(f"   {self.color_text('üíä', 'YELLOW')} {medicine}")
                
                print(f"\n{self.color_text('üõ°Ô∏è  Precautions & Prevention:', 'YELLOW')}")
                for precaution in precautions:
                    print(f"   {self.color_text('üõ°Ô∏è', 'BLUE')} {precaution}")
                
                # Create report
                self.animate_text("\nüìÑ Generating medical report...", 0.02, 'CYAN')
                self.loading_animation(2, "Creating report")
                
                report_filename = self.create_text_report(patient_name, symptoms_list, diseases, medicines, precautions)
                
                print(f"\n{self.color_text('üìÅ', 'GREEN')} {self.color_text('Report saved as:', 'BOLD')} {report_filename}")
                print(f"{self.color_text('üìÇ', 'BLUE')} {self.color_text('Location:', 'BOLD')} {os.path.abspath(report_filename)}")
                
                # Ask for another diagnosis
                print("\n")
                self.animate_text("‚îÄ" * 50, 0.01, 'CYAN')
                another = input(self.color_text("\nüîÑ Do you want to create another diagnosis? (y/n): ", 'BOLD')).lower()
                if another != 'y':
                    break
                    
            except KeyboardInterrupt:
                print("\n\n")
                self.animate_text("‚ùå Program interrupted by user!", 0.02, 'RED')
                break
            except Exception as e:
                print("\n")
                self.animate_text(f"‚ùå An error occurred: {e}", 0.02, 'RED')
                continue
        
        # Farewell message
        print("\n")
        self.animate_text("‚ïê" * 50, 0.01, 'CYAN')
        self.animate_text("üôè Thank you for using Medical Diagnosis System!", 0.02, 'GREEN')
        self.animate_text("ŸÖ€å⁄à€å⁄©ŸÑ ⁄àÿßÿ¶€å⁄ØŸÜŸàÿ≥ÿ≥ ÿ≥ÿ≥ŸπŸÖ ÿßÿ≥ÿ™ÿπŸÖÿßŸÑ ⁄©ÿ±ŸÜ€í ⁄©ÿß ÿ¥⁄©ÿ±€å€Å!", 0.02, 'YELLOW')
        self.animate_text(f"üë®‚Äç‚öïÔ∏è Doctor: {self.doctor_name}", 0.02, 'BLUE')
        self.animate_text("‚ïê" * 50, 0.01, 'CYAN')
        print("\n")

# Run the program
if __name__ == "__main__":
    try:
        system = MedicalDiagnosisSystem()
        system.run()
        
    except KeyboardInterrupt:
        print("\n\n")
        print(MedicalDiagnosisSystem().color_text("üëã Program terminated by user. Goodbye!", 'YELLOW'))
    except Exception as e:
        print("\n")
        print(MedicalDiagnosisSystem().color_text(f"üí• An unexpected error occurred: {e}", 'RED'))
